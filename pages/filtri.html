<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../style/filtri.css"/>
    <link rel="stylesheet" href="../style/prova.css"/>
</head>
<body>


<button onclick="document.getElementById('id01').style.display='block'" style="width:auto;">Sign Up</button>

<div id="id01" class="modal">
    <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close Modal">&times;</span>
    <form class="modal-content" action="/action_page.php">
        <div class="container">
            <div class="s007">
                <form>
                    <div class="inner-form">
                        <div class="advance-search">
                            <span class="desc">Ricerca avanzata</span>
                            <div class="row">
                                <div class="input-field">
                                    <div class="input-select">
                                        <select data-trigger="" name="choices-single-defaul">
                                            <option placeholder="" value="">STAGIONE</option>
                                            <option>Inverno</option>
                                            <option>Primavera</option>
                                            <option>Estate</option>
                                            <option>Autunno</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="input-field">
                                    <div class="input-select">
                                        <select data-trigger="" name="choices-single-defaul">
                                            <option placeholder="" value="">LOCALITA'</option>
                                            <option>Mare</option>
                                            <option>Montagna</option>
                                            <option>Citt√†</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="input-field">
                                    <div class="input-select">
                                        <select data-trigger="" name="choices-single-defaul">
                                            <option placeholder="" value="">ETA'</option>
                                            <option>0-20</option>
                                            <option>21-35</option>
                                            <option>36-50</option>
                                            <option>50+</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row second">
                                <div class="input-field">
                                    <div class="input-select">
                                        <select data-trigger="" name="choices-single-defaul">
                                            <option placeholder="" value="">TIPOLOGIA</option>
                                            <option>Divertimento</option>
                                            <option>Cultura</option>
                                            <option>Scoprire</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="input-field">
                                    <div class="input-select">
                                        <select data-trigger="" name="choices-single-defaul">
                                            <option placeholder="" value="">BUDGET</option>
                                            <option>Alto</option>
                                            <option>Medio</option>
                                            <option>Basso</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="input-field">
                                    <div class="input-select">
                                        <select data-trigger="" name="choices-single-defaul">
                                            <option placeholder="" value="">COMPAGNIA</option>
                                            <option>Famiglia</option>
                                            <option>Coppia</option>
                                            <option>Amici</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row third">
                                <div class="input-field">
                                    <button class="btn-search">Ricerca</button>
                                    <button class="btn-delete" id="delete">Cancella</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </form>
</div>

<script src="../javascript/choices_filter.js"></script>
<script>
    const customSelects = document.querySelectorAll("select");
    const deleteBtn = document.getElementById('delete')
    const choices = new Choices('select',
        {
            searchEnabled: false,
            removeItemButton: true,
            itemSelectText: '',
        });
    for (let i = 0; i < customSelects.length; i++)
    {
        customSelects[i].addEventListener('addItem', function(event)
        {
            if (event.detail.value)
            {
                let parent = this.parentNode.parentNode
                parent.classList.add('valid')
                parent.classList.remove('invalid')
            }
            else
            {
                let parent = this.parentNode.parentNode
                parent.classList.add('invalid')
                parent.classList.remove('valid')
            }
        }, false);
    }
    deleteBtn.addEventListener("click", function(e)
    {
        e.preventDefault()
        const deleteAll = document.querySelectorAll('.choices__button')
        for (let i = 0; i < deleteAll.length; i++)
        {
            deleteAll[i].click();
        }
    });

</script>
</body>
</html>